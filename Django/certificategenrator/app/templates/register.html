{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<link rel="shortcut icon" href="{% static 'icon.png' %}" type="image/x-icon">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Register</title>
  <link rel="stylesheet" href="{% static 'css/tailwind.css' %}">
  <script defer src="{% static 'js/cdn.min.js' %}"></script>
  <style>
    .bg-custom-gradient {
      background: linear-gradient(135deg, #f472b6 0%, #8b5cf6 100%);
    }
    .btn-custom-gradient {
      background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
    }
    .btn-custom-gradient:hover {
      background: linear-gradient(135deg, #db2777 0%, #7c3aed 100%);
    }
  </style>
</head>
<body class="bg-purple-50 flex items-center justify-center min-h-screen px-4">
  <div class="max-w-md w-full bg-white rounded-2xl shadow-xl p-10 border-t-4 border-pink-500">
    <div class="text-center mb-8">
      <div class="mb-6 flex justify-center">
        <svg class="w-12 h-12 text-pink-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
        </svg>
      </div>
      <h2 class="text-2xl font-extrabold text-purple-800 mb-2 tracking-wide">Create Your Account</h2>
      <p class="text-pink-500">Join our community today</p>
    </div>

    <form method="POST" class="space-y-6" x-data="{ showPassword: false, showConfirmPassword: false }">
      {% csrf_token %}
      <div>
        <label for="username" class="block text-sm font-medium text-purple-600 mb-2">Username</label>
        <input
          id="username"
          name="username"
          type="text"
          required
          placeholder="your username"
          class="w-full px-4 py-3 rounded-lg border border-purple-100 text-gray-800 placeholder-gray-400 focus:border-pink-500 focus:ring-2 focus:ring-pink-200 transition-all outline-none"
        />
        {% if form.username.errors %}
          <p class="text-sm text-red-500 mt-1">{{ form.username.errors.0 }}</p>
        {% endif %}
      </div>

      <div>
        <label for="email" class="block text-sm font-medium text-purple-600 mb-2">Email Address</label>
        <input
          id="email"
          name="email"
          type="email"
          required
          placeholder="you@example.com"
          class="w-full px-4 py-3 rounded-lg border border-purple-100 text-gray-800 placeholder-gray-400 focus:border-pink-500 focus:ring-2 focus:ring-pink-200 transition-all outline-none"
          autocomplete="email"
        />
        {% if form.email.errors %}
          <p class="text-sm text-red-500 mt-1">{{ form.email.errors.0 }}</p>
        {% endif %}
      </div>

      <div>
        <label for="password" class="block text-sm font-medium text-purple-600 mb-2">Password</label>
        <div class="relative">
          <input
            id="password"
            name="password"
            :type="showPassword ? 'text' : 'password'"
            required
            placeholder="••••••••"
            class="w-full px-4 py-3 rounded-lg border border-purple-100 text-gray-800 placeholder-gray-400 focus:border-pink-500 focus:ring-2 focus:ring-pink-200 transition-all outline-none pr-12"
            autocomplete="new-password"
          />
        </div>
        {% if form.password.errors %}
          <p class="text-sm text-red-500 mt-1">{{ form.password.errors.0 }}</p>
        {% endif %}
      </div>

      <div>
        <label for="confirm_password" class="block text-sm font-medium text-purple-600 mb-2">Confirm Password</label>
        <div class="relative">
          <input
            id="confirm_password"
            name="confirm_password"
            :type="showConfirmPassword ? 'text' : 'password'"
            required
            placeholder="••••••••"
            class="w-full px-4 py-3 rounded-lg border border-purple-100 text-gray-800 placeholder-gray-400 focus:border-pink-500 focus:ring-2 focus:ring-pink-200 transition-all outline-none pr-12"
            autocomplete="new-password"
          />
          
        </div>
      </div>

      {% if messages %}
        {% for message in messages %}
          <div class="message p-3 text-pink-600 bg-pink-50 rounded-lg text-sm text-center border border-pink-100">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}

      <button
        type="submit"
        class="w-full btn-custom-gradient text-white font-semibold py-3 rounded-lg transition-all transform hover:shadow-lg hover:-translate-y-0.5"
      >
        Register
      </button>
    </form>

    <div class="mt-8 text-center text-sm text-purple-400">
      <p>Already have an account?
        <a href="{% url 'app:login' %}" class="text-pink-500 font-semibold hover:text-pink-600">Login here</a>
      </p>
    </div>
  </div>



  <script>
    // Auto-dismiss flash messages
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        document.querySelectorAll('.message').forEach(el => {
          el.style.opacity = '0';
          setTimeout(() => el.remove(), 300);
        });
      }, 5000);
    });
  </script>
</body>
</html>
